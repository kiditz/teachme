2018-08-11 00:10:16,828 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:16,831 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:16,838 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:16] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:16,871 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:16,874 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s ORDER BY tm_activity.activity_id DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:16,888 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'param_1': 10}
2018-08-11 00:10:16,898 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:10:16,903 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 2}
2018-08-11 00:10:16,916 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:16,925 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:16] "GET /get_activity_by_user_id?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:16,948 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:16,955 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:16,964 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_1': 1}
2018-08-11 00:10:16,982 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:10:16,990 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:10:17,014 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.friend_id = %(friend_id_1)s) AS anon_1
2018-08-11 00:10:17,015 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'friend_id_1': '2'}
2018-08-11 00:10:17,039 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:10:17,043 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:10:17,052 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:17,055 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:17] "GET /count_following_followers?user_id=2 HTTP/1.1" 200 -
2018-08-11 00:10:17,810 INFO 14422 [werkzeug] _internal.py:88 - 127.0.0.1 - - [11/Aug/2018 00:10:17] "GET /health HTTP/1.1" 200 -
2018-08-11 00:10:22,911 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:22,914 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_school_level.name AS level, tm_school_class.name AS class_name, tm_user.level_id AS tm_user_level_id, tm_user.class_id AS tm_user_class_id 
FROM tm_user JOIN tm_school_level ON tm_user.level_id = tm_school_level.school_level_id LEFT OUTER JOIN tm_school_class ON tm_user.class_id = tm_school_class.school_class_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:22,915 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:22,921 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:22,925 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:22] "GET /find_user_principal_by_username?username=anes HTTP/1.1" 200 -
2018-08-11 00:10:23,609 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:23,616 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:23,625 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:23,631 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:23,635 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:23,643 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:23] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:23,771 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:23,778 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_topic_topic_id AS anon_1_tm_topic_topic_id, anon_1.tm_topic_name AS anon_1_tm_topic_name, anon_1.tm_topic_user_id AS anon_1_tm_topic_user_id, anon_1.tm_topic_level_id AS anon_1_tm_topic_level_id, anon_1.tm_topic_class_id AS anon_1_tm_topic_class_id, anon_1.tm_topic_created_at AS anon_1_tm_topic_created_at, anon_1.tm_topic_update_at AS anon_1_tm_topic_update_at 
FROM (SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_friend ON tm_friend.friend_id = tm_topic.user_id JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_1)s AND tm_topic.name ILIKE %(name_1)s AND tm_friend.user_id = %(user_id_1)s UNION SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_2)s AND tm_topic.name ILIKE %(name_2)s AND tm_topic.level_id = %(level_id_1)s) AS anon_1 ORDER BY anon_1.tm_topic_name ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:23,780 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'level_id_1': '2', 'active_1': 'A', 'active_2': 'A', 'name_1': '%%', 'user_id_1': '2', 'param_2': 0, 'name_2': '%%', 'param_1': 10}
2018-08-11 00:10:23,793 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:23,796 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:23] "GET /get_lesson_topic?size=10&user_id=2&level_id=2&name=&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:23,865 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:23,871 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:23,874 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_2': 0, 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:23,889 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:23,891 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:23,900 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:23,903 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:23] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:23,993 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:23,997 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_lesson.lesson_id AS tm_lesson_lesson_id, tm_lesson.title AS tm_lesson_title, tm_lesson.type AS tm_lesson_type, tm_lesson.document_id AS tm_lesson_document_id, tm_lesson.price AS tm_lesson_price, tm_lesson.user_id AS tm_lesson_user_id, tm_lesson.topic_id AS tm_lesson_topic_id, tm_lesson.active AS tm_lesson_active, tm_lesson.created_at AS tm_lesson_created_at, tm_lesson.update_at AS tm_lesson_update_at 
FROM tm_lesson 
WHERE tm_lesson.topic_id = %(topic_id_1)s AND tm_lesson.active = %(active_1)s ORDER BY tm_lesson.title ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:24,008 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'topic_id_1': '1', 'param_2': 0, 'active_1': 'A', 'param_1': 10}
2018-08-11 00:10:24,014 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:10:24,017 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 1}
2018-08-11 00:10:24,033 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:24,040 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:24] "GET /get_lesson_by_topic_id?size=10&topic_id=1&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:24,291 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:24,297 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:24,299 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:24,318 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:24,325 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:24,329 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:24] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:24,335 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:24,337 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_lesson.lesson_id AS tm_lesson_lesson_id, tm_lesson.title AS tm_lesson_title, tm_lesson.type AS tm_lesson_type, tm_lesson.document_id AS tm_lesson_document_id, tm_lesson.price AS tm_lesson_price, tm_lesson.user_id AS tm_lesson_user_id, tm_lesson.topic_id AS tm_lesson_topic_id, tm_lesson.active AS tm_lesson_active, tm_lesson.created_at AS tm_lesson_created_at, tm_lesson.update_at AS tm_lesson_update_at 
FROM tm_lesson 
WHERE tm_lesson.lesson_id = %(param_1)s
2018-08-11 00:10:24,339 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': '1'}
2018-08-11 00:10:24,342 INFO 14422 [service.lesson_service] lesson_service.py:74 - Saved in >>> /teachme/teachme-rest-api/lesson_image/Belajar_matematika_untuk_kelas_5_SD.png
2018-08-11 00:10:24,343 INFO 14422 [slerp.app] app.py:91 - Use return not json
2018-08-11 00:10:24,357 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:24,363 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:24] "GET /get_lesson_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&id=1 HTTP/1.1" 200 -
2018-08-11 00:10:28,510 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:28,514 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_school_level.name AS level, tm_school_class.name AS class_name, tm_user.level_id AS tm_user_level_id, tm_user.class_id AS tm_user_class_id 
FROM tm_user JOIN tm_school_level ON tm_user.level_id = tm_school_level.school_level_id LEFT OUTER JOIN tm_school_class ON tm_user.class_id = tm_school_class.school_class_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:28,515 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_1': 1}
2018-08-11 00:10:28,521 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:28,527 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:28] "GET /find_user_principal_by_id?friend_id=-1&user_id=2 HTTP/1.1" 200 -
2018-08-11 00:10:28,680 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:28,684 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:28,686 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_1': 1}
2018-08-11 00:10:28,716 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:10:28,718 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:10:28,740 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.friend_id = %(friend_id_1)s) AS anon_1
2018-08-11 00:10:28,742 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'friend_id_1': '2'}
2018-08-11 00:10:28,755 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:10:28,757 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:10:28,762 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:28,766 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:28] "GET /count_following_followers?user_id=2 HTTP/1.1" 200 -
2018-08-11 00:10:28,791 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:28,823 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s ORDER BY tm_activity.activity_id DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:28,828 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_2': 0, 'param_1': 10}
2018-08-11 00:10:28,833 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:10:28,833 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 2}
2018-08-11 00:10:28,839 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:28,842 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:28] "GET /get_activity_by_user_id?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:28,866 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:28,876 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:28,876 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:28,881 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:28,882 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:28,886 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:28] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:35,339 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:35,343 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_school_level.name AS level, tm_school_class.name AS class_name, tm_user.level_id AS tm_user_level_id, tm_user.class_id AS tm_user_class_id 
FROM tm_user JOIN tm_school_level ON tm_user.level_id = tm_school_level.school_level_id LEFT OUTER JOIN tm_school_class ON tm_user.class_id = tm_school_class.school_class_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:35,344 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:35,349 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:35,353 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:35] "GET /find_user_principal_by_username?username=anes HTTP/1.1" 200 -
2018-08-11 00:10:36,014 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:36,017 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:36,019 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:36,029 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:36,034 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:36,038 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:36] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:36,155 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:36,161 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_topic_topic_id AS anon_1_tm_topic_topic_id, anon_1.tm_topic_name AS anon_1_tm_topic_name, anon_1.tm_topic_user_id AS anon_1_tm_topic_user_id, anon_1.tm_topic_level_id AS anon_1_tm_topic_level_id, anon_1.tm_topic_class_id AS anon_1_tm_topic_class_id, anon_1.tm_topic_created_at AS anon_1_tm_topic_created_at, anon_1.tm_topic_update_at AS anon_1_tm_topic_update_at 
FROM (SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_friend ON tm_friend.friend_id = tm_topic.user_id JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_1)s AND tm_topic.name ILIKE %(name_1)s AND tm_friend.user_id = %(user_id_1)s UNION SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_2)s AND tm_topic.name ILIKE %(name_2)s AND tm_topic.level_id = %(level_id_1)s) AS anon_1 ORDER BY anon_1.tm_topic_name ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:36,161 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'level_id_1': '2', 'user_id_1': '2', 'param_1': 10, 'name_1': '%%', 'active_1': 'A', 'param_2': 0, 'name_2': '%%', 'active_2': 'A'}
2018-08-11 00:10:36,169 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:36,173 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:36] "GET /get_lesson_topic?size=10&user_id=2&level_id=2&name=&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:36,233 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:36,240 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:36,242 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:36,257 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:36,259 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:36,268 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:36,272 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:36] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:36,412 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:36,416 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_lesson.lesson_id AS tm_lesson_lesson_id, tm_lesson.title AS tm_lesson_title, tm_lesson.type AS tm_lesson_type, tm_lesson.document_id AS tm_lesson_document_id, tm_lesson.price AS tm_lesson_price, tm_lesson.user_id AS tm_lesson_user_id, tm_lesson.topic_id AS tm_lesson_topic_id, tm_lesson.active AS tm_lesson_active, tm_lesson.created_at AS tm_lesson_created_at, tm_lesson.update_at AS tm_lesson_update_at 
FROM tm_lesson 
WHERE tm_lesson.topic_id = %(topic_id_1)s AND tm_lesson.active = %(active_1)s ORDER BY tm_lesson.title ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:36,418 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'topic_id_1': '1', 'active_1': 'A', 'param_2': 0, 'param_1': 10}
2018-08-11 00:10:36,423 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:10:36,427 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 1}
2018-08-11 00:10:36,432 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:36,435 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:36] "GET /get_lesson_by_topic_id?size=10&topic_id=1&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:36,451 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:36,454 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:36,455 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:36,474 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:36,476 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:36,482 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:36] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:37,824 INFO 14422 [werkzeug] _internal.py:88 - 127.0.0.1 - - [11/Aug/2018 00:10:37] "GET /health HTTP/1.1" 200 -
2018-08-11 00:10:41,241 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:41,245 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:41,246 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:41,258 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:41,258 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:41,264 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:41,267 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:41] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:41,403 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:41,407 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:41,408 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:41,412 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:41,415 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:41,417 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:41] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:42,459 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:42,473 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:42,475 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_2': 0, 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:42,488 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:42,489 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:42,498 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:42,500 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:42] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:42,619 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:42,624 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:42,626 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:42,630 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:42,635 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:42,638 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:42] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:44,006 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:44,011 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:44,012 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_2': 0, 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:44,030 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:44,031 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:44,037 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:44,041 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:44] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:44,216 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:44,220 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:44,221 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:44,228 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:44,230 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:44,237 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:44] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:45,103 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:45,111 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:45,112 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_2': 0, 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:45,129 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:45,132 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:45,139 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:45,142 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:45] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:45,280 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:45,284 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:45,286 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:45,291 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:45,297 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:45,300 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:45] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:46,187 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:46,192 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:10:46,193 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:10:46,206 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:10:46,207 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:10:46,212 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:10:46,216 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:46] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:10:46,350 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:10:46,355 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:10:46,357 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:10:46,366 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:10:46,369 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:10:46,373 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:10:46] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:10:57,839 INFO 14422 [werkzeug] _internal.py:88 - 127.0.0.1 - - [11/Aug/2018 00:10:57] "GET /health HTTP/1.1" 200 -
2018-08-11 00:11:00,925 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:00,933 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_school_level.name AS level, tm_school_class.name AS class_name, tm_user.level_id AS tm_user_level_id, tm_user.class_id AS tm_user_class_id 
FROM tm_user JOIN tm_school_level ON tm_user.level_id = tm_school_level.school_level_id LEFT OUTER JOIN tm_school_class ON tm_user.class_id = tm_school_class.school_class_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:00,934 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_1': 1}
2018-08-11 00:11:00,948 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:00,958 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:00] "GET /find_user_principal_by_id?friend_id=-1&user_id=2 HTTP/1.1" 200 -
2018-08-11 00:11:01,113 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:01,117 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:01,121 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2', 'param_1': 1}
2018-08-11 00:11:01,152 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:11:01,157 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:11:01,187 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_friend.user_id AS tm_friend_user_id, tm_friend.friend_id AS tm_friend_friend_id, tm_friend.status AS tm_friend_status, tm_friend.created_at AS tm_friend_created_at, tm_friend.update_at AS tm_friend_update_at 
FROM tm_friend 
WHERE tm_friend.friend_id = %(friend_id_1)s) AS anon_1
2018-08-11 00:11:01,188 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'friend_id_1': '2'}
2018-08-11 00:11:01,201 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT count(*) AS count_1 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s) AS anon_1
2018-08-11 00:11:01,202 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'user_id_1': '2'}
2018-08-11 00:11:01,206 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:01,212 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:01] "GET /count_following_followers?user_id=2 HTTP/1.1" 200 -
2018-08-11 00:11:01,218 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:01,221 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.message AS tm_activity_message, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_activity.created_at AS tm_activity_created_at, tm_activity.update_at AS tm_activity_update_at, tm_activity.doc_type AS tm_activity_doc_type 
FROM tm_activity 
WHERE tm_activity.user_id = %(user_id_1)s ORDER BY tm_activity.activity_id DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:11:01,222 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'param_1': 10}
2018-08-11 00:11:01,227 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:11:01,229 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 2}
2018-08-11 00:11:01,234 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:01,236 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:01] "GET /get_activity_by_user_id?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:11:01,272 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:01,277 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:01,279 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:11:01,287 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:11:01,291 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:11:01,294 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:01] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:11:07,038 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:07,043 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_school_level.name AS level, tm_school_class.name AS class_name, tm_user.level_id AS tm_user_level_id, tm_user.class_id AS tm_user_class_id 
FROM tm_user JOIN tm_school_level ON tm_user.level_id = tm_school_level.school_level_id LEFT OUTER JOIN tm_school_class ON tm_user.class_id = tm_school_class.school_class_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:07,045 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:11:07,055 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:07,059 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:07] "GET /find_user_principal_by_username?username=anes HTTP/1.1" 200 -
2018-08-11 00:11:07,740 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:07,744 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:07,745 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:11:07,750 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:11:07,756 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
2018-08-11 00:11:07,759 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:07] "GET /get_user_image?access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsic2xlcnAiXSwidXNlcl9uYW1lIjoiYW5lcyIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MzM5MjQ2MTMsImF1dGhvcml0aWVzIjpbIlZJRVdfTUFQIiwiVklFV19DTEFTU0VTIiwiQUREX0NIQUxMRU5HRSIsIkVESVRfUFJPRklMRSIsIlZJRVdfTUFURVJJQUwiLCJWSUVXX1RBU0siLCJBRERfU1RVREVOVCIsIkFERF9BQlNFTlQiLCJWSUVXX0FCU0VOVCIsIlZJRVdfUFJPRklMRSIsIkFERF9UQVNLIiwiQUREX0NMQVNTIiwiQUREX01BVEVSSUFMIl0sImp0aSI6IjQ5ZGY4MDU1LThkM2QtNDZkYy1iZjU0LWM3MTQ5ZmM2OWI4YiIsImNsaWVudF9pZCI6ImtpZGl0eiJ9.Ifud6FCrBrG57J3SsU3ogEax1UVSESjxdnbMhDhY-yRqxFXkS3ScwaC0YMyxoB8oyCA-Yu0PMyQNSSWexbc4OktRepDDDlc1_9XKtOcNs1VgYjJiwWYUlH4ZwLwWGIlHkY1s60UsW4gU1xIjH6hyzzUZfL3PVBoUGl6JTKYATPAg8sJ65s6fvNqs4hK0mTx9W1ENqOZCPIfz8ypTU_TBcl0mvRqzPmuoruAa7WtC8MZMAvDE_wJt2XlC31Znjl5Wi3gGh7kjDxpX0fUYRK9tWYoHxmHWyaoxZRp74Akj72jQY4fmRQTrfB_CFsjY_zTAJTmRvndURG9xJx4K7hi2jQ&username=anes HTTP/1.1" 200 -
2018-08-11 00:11:07,851 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:07,857 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_topic_topic_id AS anon_1_tm_topic_topic_id, anon_1.tm_topic_name AS anon_1_tm_topic_name, anon_1.tm_topic_user_id AS anon_1_tm_topic_user_id, anon_1.tm_topic_level_id AS anon_1_tm_topic_level_id, anon_1.tm_topic_class_id AS anon_1_tm_topic_class_id, anon_1.tm_topic_created_at AS anon_1_tm_topic_created_at, anon_1.tm_topic_update_at AS anon_1_tm_topic_update_at 
FROM (SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_friend ON tm_friend.friend_id = tm_topic.user_id JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_1)s AND tm_topic.name ILIKE %(name_1)s AND tm_friend.user_id = %(user_id_1)s UNION SELECT tm_topic.topic_id AS tm_topic_topic_id, tm_topic.name AS tm_topic_name, tm_topic.user_id AS tm_topic_user_id, tm_topic.level_id AS tm_topic_level_id, tm_topic.class_id AS tm_topic_class_id, tm_topic.created_at AS tm_topic_created_at, tm_topic.update_at AS tm_topic_update_at 
FROM tm_topic JOIN tm_lesson ON tm_topic.topic_id = tm_lesson.topic_id 
WHERE tm_lesson.active = %(active_2)s AND tm_topic.name ILIKE %(name_2)s AND tm_topic.level_id = %(level_id_1)s) AS anon_1 ORDER BY anon_1.tm_topic_name ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:11:07,859 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'level_id_1': '2', 'active_1': 'A', 'param_1': 10, 'name_1': '%%', 'user_id_1': '2', 'param_2': 0, 'name_2': '%%', 'active_2': 'A'}
2018-08-11 00:11:07,868 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:07,872 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:07] "GET /get_lesson_topic?size=10&user_id=2&level_id=2&name=&page=1 HTTP/1.1" 200 -
2018-08-11 00:11:07,971 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:07,977 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT anon_1.tm_activity_activity_id AS anon_1_tm_activity_activity_id, anon_1.tm_activity_doc_type AS anon_1_tm_activity_doc_type, anon_1.tm_activity_message AS anon_1_tm_activity_message, anon_1.tm_activity_created_at AS anon_1_tm_activity_created_at, anon_1.tm_activity_user_id AS anon_1_tm_activity_user_id, anon_1.tm_activity_raw AS anon_1_tm_activity_raw, anon_1.tm_user_username AS anon_1_tm_user_username, anon_1.tm_user_fullname AS anon_1_tm_user_fullname 
FROM (SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_friend ON tm_friend.friend_id = tm_activity.user_id JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_friend.user_id = %(user_id_1)s UNION SELECT tm_activity.activity_id AS tm_activity_activity_id, tm_activity.doc_type AS tm_activity_doc_type, tm_activity.message AS tm_activity_message, tm_activity.created_at AS tm_activity_created_at, tm_activity.user_id AS tm_activity_user_id, tm_activity.raw AS tm_activity_raw, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname 
FROM tm_activity JOIN tm_user ON tm_user.user_id = tm_activity.user_id 
WHERE tm_activity.user_id = %(user_id_2)s) AS anon_1 ORDER BY anon_1.tm_activity_created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:11:07,987 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_2': 0, 'user_id_1': '2', 'user_id_2': '2', 'param_1': 10}
2018-08-11 00:11:08,003 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.fullname AS title, tm_user.document_id AS tm_user_document_id, upper(concat(CASE WHEN (tm_user.register_type = %(register_type_1)s) THEN %(param_1)s ELSE %(param_2)s END, %(concat_1)s, coalesce(tm_school_class.name, %(coalesce_1)s), %(concat_2)s, tm_school_level.name)) AS detail 
FROM tm_user LEFT OUTER JOIN tm_school_class ON tm_school_class.school_class_id = tm_user.class_id JOIN tm_school_level ON tm_school_level.school_level_id = tm_user.level_id 
WHERE tm_user.user_id = %(user_id_1)s 
 LIMIT %(param_3)s
2018-08-11 00:11:08,011 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'concat_2': ' ', 'user_id_1': 1, 'param_3': 1, 'register_type_1': 'STUDENT', 'coalesce_1': '', 'param_2': 'Guru', 'param_1': 'Siswa', 'concat_1': ' '}
2018-08-11 00:11:08,016 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:08,020 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:08] "GET /get_all_activity?size=10&user_id=2&page=1 HTTP/1.1" 200 -
2018-08-11 00:11:08,092 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:08,096 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_lesson.lesson_id AS tm_lesson_lesson_id, tm_lesson.title AS tm_lesson_title, tm_lesson.type AS tm_lesson_type, tm_lesson.document_id AS tm_lesson_document_id, tm_lesson.price AS tm_lesson_price, tm_lesson.user_id AS tm_lesson_user_id, tm_lesson.topic_id AS tm_lesson_topic_id, tm_lesson.active AS tm_lesson_active, tm_lesson.created_at AS tm_lesson_created_at, tm_lesson.update_at AS tm_lesson_update_at 
FROM tm_lesson 
WHERE tm_lesson.topic_id = %(topic_id_1)s AND tm_lesson.active = %(active_1)s ORDER BY tm_lesson.title ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2018-08-11 00:11:08,098 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'topic_id_1': '1', 'param_2': 0, 'active_1': 'A', 'param_1': 10}
2018-08-11 00:11:08,107 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_user.user_id AS tm_user_user_id, tm_user.document_id AS tm_user_document_id, tm_user.phone_number AS tm_user_phone_number, tm_user.username AS tm_user_username, tm_user.fullname AS tm_user_fullname, tm_user.gender AS tm_user_gender, tm_user.hash_password AS tm_user_hash_password, tm_user.address_id AS tm_user_address_id, tm_user.enabled AS tm_user_enabled, tm_user.account_non_expired AS tm_user_account_non_expired, tm_user.account_non_locked AS tm_user_account_non_locked, tm_user.credentials_non_expired AS tm_user_credentials_non_expired, tm_user.register_type AS tm_user_register_type, tm_user.class_id AS tm_user_class_id, tm_user.level_id AS tm_user_level_id, tm_user.created_at AS tm_user_created_at, tm_user.update_at AS tm_user_update_at 
FROM tm_user 
WHERE tm_user.user_id = %(param_1)s
2018-08-11 00:11:08,109 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'param_1': 1}
2018-08-11 00:11:08,114 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - COMMIT
2018-08-11 00:11:08,118 INFO 14422 [werkzeug] _internal.py:88 - 172.20.0.4 - - [11/Aug/2018 00:11:08] "GET /get_lesson_by_topic_id?size=10&topic_id=1&page=1 HTTP/1.1" 200 -
2018-08-11 00:11:08,216 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - BEGIN (implicit)
2018-08-11 00:11:08,219 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - SELECT tm_document.document_id AS tm_document_document_id, tm_document.filename AS tm_document_filename, tm_document.original_filename AS tm_document_original_filename, tm_document.thumbnails AS tm_document_thumbnails, tm_document.mimetype AS tm_document_mimetype, tm_document.folder AS tm_document_folder, tm_document.secure AS tm_document_secure, tm_document.created_at AS tm_document_created_at, tm_document.update_at AS tm_document_update_at 
FROM tm_document JOIN tm_user ON tm_user.document_id = tm_document.document_id 
WHERE tm_user.username = %(username_1)s 
 LIMIT %(param_1)s
2018-08-11 00:11:08,221 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - {'username_1': 'anes', 'param_1': 1}
2018-08-11 00:11:08,226 ERROR 14422 [slerp.app] app.py:56 - user.not.found
Traceback (most recent call last):
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/kiditz/teachme/teachme-rest-api/app/api/user_principal_api.py", line 51, in get_user_image
    return user_principal_service.get_user_image(domain)
  File "/home/kiditz/teachme/teachme-rest-api/lib/python3.5/site-packages/slerp/validator.py", line 35, in new_function
    return original_function(other, domain)
  File "/home/kiditz/teachme/teachme-rest-api/app/service/user_principal_service.py", line 82, in get_user_image
    raise ValidationException(ErrorCode.USER_NOT_FOUND)
slerp.exception.ValidationException: user.not.found
2018-08-11 00:11:08,229 INFO 14422 [sqlalchemy.engine.base.Engine] log.py:109 - ROLLBACK
